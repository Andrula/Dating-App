@page "/Match"
@using Dating_App.Data
@inject NavigationManager navigateManager
@inject SessionState State
@inherits Matches


<h3 style="text-align: center; font-size: 25px; font-weight: bold; padding-bottom: 30px">Login</h3>

<div class="flex-column" style="display: flex; justify-content: center; align-items: center;">
    <h3>Matches</h3>
    @if (Profiles == null)
    {
        <div class="spinner"></div>
    }
    else
    {
        <div class="d-flex flex-wrap p-2 bd-highlight">
            @foreach (var profile in Profiles)
            {
                <div class="card m-3" style="min-width: 18rem; max-width:30.5%;">
                    <div class="card-header">
                        <h3>@profile.Firstname</h3>
                    </div>
                    <img class="card-img-top imageThumbnail" src="https://thumbs.dreamstime.com/z/happy-person-portrait-smiling-woman-tanned-skin-curly-hair-happy-person-portrait-smiling-young-friendly-woman-197501184.jpg" />
                    <div class="card-footer text-center">
                        <a href="#" class="btn btn-primary m1">View</a>
                        <a href="#" class="btn btn-primary m1">Edit</a>
                        <a href="#" class="btn btn-danger m1">Delete</a>
                    </div>

                </div>
            }
        </div>
    }
</div>

@code {


    void SomeStartupMethod()
    {
        if (!State.isLoggedIn)
        {
            navigateManager.NavigateTo("/");
        }
    }

    protected override async Task OnInitializedAsync()
    {
        SomeStartupMethod();
    }
}